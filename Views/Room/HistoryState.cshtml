@{
    Layout = null;
}
@model List<QueryModel.HistoryState>
<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="author" content="">
    <title>远期房态</title>
    <link rel="stylesheet" href="../../wwwroot/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../wwwroot/neoui/css/neoui.css">
    <link rel="stylesheet" href="../../wwwroot/neoui/css/navbar.css">
    <link rel="stylesheet" href="../../wwwroot/neoui/css/utils.css">
    <style>
        body {
            padding-bottom: 50px;
        }

        .nav-tabs li {
            width: 33.33%
        }

            .nav-tabs li a {
                border-radius: 0;
                border-top: 0;
            }

        .nav-tabs > li.active > a,
        .nav-tabs > li.active > a:focus,
        .nav-tabs > li.active > a:hover {
            border-top: 0;
        }

        .nav-tabs > li:first-child.active > a,
        .nav-tabs > li:first-child.active > a:focus,
        .nav-tabs > li:first-child.active > a:hover {
            border-left: 0;
        }

        .nav-tabs > li:last-child.active > a,
        .nav-tabs > li:last-child.active > a:focus,
        .nav-tabs > li:last-child.active > a:hover {
            border-right: 0;
        }

        .list-group-item {
            border: 0;
        }

        .panel-body {
            text-align: center;
        }

        .label {
            margin-bottom: 6px;
            padding: 8px 12px;
            display: inline-block
        }

        .table {
            margin-top: 1rem
        }

        .tab-pane {
            margin-top: 1rem;
        }

        .table {
            border: 1px solid #c3c3c3;
        }

            .table thead {
                background-color: #358fd130;
            }

                .table thead th {
                    text-align: center;
                }

            .table td,
            .table th {
                border: 1px solid #c5c5c5;
                padding: 2px !important;
            }

        .container {
            padding: 4px;
            margin-top: 16px;
        }

        .positionUl {
            border: 0;
            padding: 2px 0;
        }
    </style>
</head>

<body>
    <div class="panTit">远期房态</div>
    <div class="container">
        <!-- 下拉菜单 -->
        <div class="input-group">
            <input type="text" id="txtInp" class="form-control" placeholder="所有房间">
            <div class="input-group-btn">
                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right positionUl">
                    <li>
                        <a href="javascript:void(0)">HHB</a>
                    </li>
                    <li>
                        <a href="javascript:void(0)">HHD</a>
                    </li>
                    @*<li role="separator" class="divider"></li>*@
                    <li>
                        <a href="javascript:void(0)">HHG</a>
                    </li>
                    <li>
                        <a href="javascript:void(0)">HHX</a>
                    </li>
                    <li>
                        <a href="javascript:void(0)">HHZ</a>
                    </li>
                    <li>
                        <a href="javascript:void(0)">HYS</a>
                    </li>
                    <li>
                        <a href="javascript:void(0)">QCB</a>
                    </li>
                    <li>
                        <a href="javascript:void(0)">QLF</a>
                    </li>
                    <li>
                        <a href="javascript:void(0)">SWB</a>
                    </li>
                    <li>
                        <a href="javascript:void(0)">SWD</a>
                    </li>
                    <li>
                        <a href="javascript:void(0)">所有房间</a>
                    </li>
                </ul>
            </div>
        </div>

        <!-- 在住信息列表 -->
        <table class="table">
            <thead>
                <tr>
                    <th>日期</th>
                    <th>编码</th>
                    <th>已售</th>
                    <th>未售</th>
                    <th>总数</th>
                    <th>占比</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                <tr>
                    <td>@item.d_date.Value.ToString("yy-mm-dd")</td>
                    <td>@item.s_room_type</td>
                    <td>@item.saled</td>
                    <td>@(item.total - item.saled)</td>
                    <td>@item.total</td>
                    <td>@(((item.saled.Value * 1.00) / item.total.Value*100).ToString("0.##"))%</td>
                </tr>}
            </tbody>
        </table>

    </div>

    @RenderPage("../Shared/_Footer.cshtml.cshtml")
    <script src="http://cdn.static.runoob.com/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="../../wwwroot/bootstrap/js/bootstrap.min.js"></script>
    <script>
        $(function () {
            var $txtInp = $('#txtInp');
            var $rmLis = $('.positionUl li');
            location.roomType = '';
            $rmLis.click(function () {
                localStorage.roomType = $(this).text().trim();
                $txtInp.val($(this).text().trim());
                if ($(this).text().trim() == "所有房间")
                    location.href = "http://" + location.host.trim() + "/Room/HistoryState";
                else
                    window.location = "http://" + location.host.trim() + "/Room/HistoryState?roomtype=" + $(this).text().trim();
            });
            $txtInp.prop('placeholder', localStorage.roomType);
            $txtInp.change(function () {
                console.log($txtInp.val());
                switch ($txtInp.val()) {
                    case '所有房间':
                        localStorage.roomType = "所有房间";
                        window.location = "http://" + location.host.trim() + "/Room/HistoryState";
                        $txtInp.val(localStorage.roomType);
                        break;
                }
            });


            //设置当前页导航链接颜色为linkblue
            function setLinkBlue() {
                var $links = $('nav a');
                var title = $('title').text().trim();
                $links.removeClass('linkBlue');
                $links.each(function () {
                    if ($(this).text().trim() === title)
                        $(this).addClass('linkBlue');
                });
            }
            setLinkBlue();
        })
    </script>
</body>

</html>